(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{433:function(n,e,t){"use strict";t.r(e),e.default="<template>\n  <div>\n    <div>\n      <el-button type=\"primary\" size=\"mini\" @click=\"doValidate\">校验</el-button>\n      <el-button type=\"primary\" size=\"mini\" @click=\"doSubmit\">提交</el-button>\n    </div>\n    <worktable class=\"mt-10\" border />\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue-demi'\nimport { useWorktable, Worktable } from '@edsheet/element-ui'\n\nexport default defineComponent({\n  components: { Worktable },\n  setup() {\n    const columns = [\n      {\n        title: '性别',\n        field: 'gender',\n        component: 'select',\n        enum: [\n          { label: '男', value: 'man' },\n          { label: '女', value: 'woman' },\n        ],\n      },\n      {\n        title: '年龄',\n        field: 'age',\n        component: 'input',\n        type: 'number',\n        reuqired: true,\n        requiredMessage: '该字段必填',\n        componentProps: { type: 'number' },\n        rule: {\n          validator(val, row) {\n            const gender = row.data.gender\n            if (gender === 'man' && val > 20) {\n              throw '男性要求小于20岁'\n            } else if (gender === 'woman' && val < 20) {\n              throw '女性要求大于20岁'\n            }\n          },\n        },\n      },\n    ]\n    const worktable = useWorktable({\n      initialData: [{ name: '琪琪', gender: 'woman', age: 18 }],\n      columns,\n    })\n    function doValidate() {\n      worktable\n        .validate()\n        .then(() => {\n          console.log('validate successed')\n        })\n        .catch((err) => {\n          console.error(err)\n        })\n    }\n    async function doSubmit() {\n      await worktable.validate()\n      const data = worktable.getData()\n      console.log('data', data)\n    }\n\n    return {\n      doValidate,\n      doSubmit,\n    }\n  },\n})\n<\/script>\n"}}]);